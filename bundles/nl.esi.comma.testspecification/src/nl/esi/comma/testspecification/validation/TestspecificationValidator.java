/*
 * generated by Xtext 2.29.0
 */
package nl.esi.comma.testspecification.validation;

import org.eclipse.emf.common.util.URI;
import org.eclipse.xtext.EcoreUtil2;
import org.eclipse.xtext.validation.Check;

import nl.esi.comma.types.types.Import;
import nl.esi.comma.types.types.TypesPackage;

/**
 * This class contains custom validation rules. 
 *
 * See https://www.eclipse.org/Xtext/documentation/303_runtime_concepts.html#validation
 */
public class TestspecificationValidator extends AbstractTestspecificationValidator {
	
	@Check @Override
	public void checkImportForValidity(Import imp){
		if(! EcoreUtil2.isValidUri(imp, URI.createURI(imp.getImportURI())))
			error("Invalid resource", imp, TypesPackage.eINSTANCE.getImport_ImportURI());
		else{
			/*val Resource r = EcoreUtil2.getResource(imp.eResource, imp.importURI)
			if(! (r.allContents.head instanceof InterfaceDefinition ||
				r.allContents.head instanceof FeatureDefinition
			))
				error("The imported resource is not an interface definition or a feature definition.", imp, TypesPackage.eINSTANCE.import_ImportURI)
		}*/
		
		}
	}
	
}
